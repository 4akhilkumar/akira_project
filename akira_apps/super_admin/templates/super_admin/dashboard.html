{% extends 'side_panel-navbar_dashboard.html' %}
{% load static %}
{% load user_group %}
{% load numerize_value %}

{% block analytics-text %}
<h1>Analytics</h1>
<p>Display analytics about your Academy <span class="fas fa-chart-line"></span> </p>
{% endblock %}

{% block analytic-overview %}
<section>
  <h3 class="section-head">Overview</h3>
</section>
<div class="analytics">
  <div class="analytic">
      <div class="analytic-icon">
          <span class="fas fa-chalkboard-teacher"></span>
      </div>
      <div class="analytic-info">
          <h4>Total Staff</h4>
          <h1>{{ listFaculty|length|numerize_value }} <small class="text-success">0% <i class="fa-solid fa-arrow-trend-up"></i></small></h1>
      </div>
  </div>
  <div class="analytic">
    <div class="analytic-icon">
        <span class="fas fa-user-graduate"></span>
    </div>
    <div class="analytic-info">
        <h4>Total Students</h4>
        <h1>{{ listStudents|length|numerize_value }} <small class="text-success">0% <i class="fa-solid fa-arrow-trend-up"></i></small></h1>
    </div>
  </div>
  <div class="analytic">
      <div class="analytic-icon">
          <span class="fas fa-book"></span>
      </div>
      <div class="analytic-info">
          <h4>Total Courses</h4>
          <h1>{{ listCourses|length|numerize_value }} <small class="text-success">0% <i class="fa-solid fa-arrow-trend-up"></i></small></h1>
      </div>
  </div>
  <div class="analytic">
    <div class="analytic-icon">
        <span class="fas fa-swatchbook"></span>
    </div>
    <div class="analytic-info">
        <h4>Specializations</h4>
        <h1>0 <small class="text-danger">0% <i class="fa-solid fa-arrow-trend-down"></i></small></h1>
    </div>
  </div>
</div>
{% endblock %}

{% block revenue-card %}
<div class="revenue-card">
    <h3 class="section-head">Notifications</h3>
    <div class="rev-content">
        <!-- <img src="{% get_static_prefix %}Default User Profile Photo/{{request.user.first_name|capfirst|first}}.png" alt="">
        <div class="rev-info">
            <h3>{{ request.user.first_name }} {{ request.user.last_name }}</h3>
            <h1><small>{{ request.user|user_group }}</small></h1>
        </div>
        <div class="rev-sum">
            <h4>Total income</h4>
            <h2>$1,858</h2>
        </div> -->
        <p></p>
    </div>
</div>
{% endblock %}

{% block graph %}
<div class="graph-card">
    <h3 class="section-head">Graph</h3>
    <div class="graph-content">
        <div class="graph-head">
            <div class="icons-wrapper">
                <div class="icon">
                    <span class="fas fa-clock text-success"></span>
                </div>
            </div>
            <div class="graph-select">
                <select name="" id="">
                    <option value="">December</option>
                </select>
            </div>
        </div>
        <div class="graph-board">
            <canvas id="revenueChart" width="100%" height="50px"></canvas>
        </div>
    </div>
</div>
{% endblock %}

{% block chart-js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js"></script>
<script>
    let ctx = document.querySelector('#revenueChart');

    let revChart = new Chart(ctx, {
        type: "line",
        data: {
            labels: ["Dec 1", "Dec 3", "Dec 6", "Dec 9", "Dec 12", "Dec 15", "Dec 18", "Dec 21", "Dec 24", "Dec 27", "Dec 31"],
            datasets: [
                {
                    label: "Undefine",
                    borderColor: "#2ec3a3",
                    borderWidth: "3",
                    backgroundColor: "rgba(235, 247, 245, 0.5)",
                    data: [0,30,60,25,60,25,50,10,50,90,120],
                },
            ]
        },
        options: {
            responsive: true,
            tooltips: {
                intersect: false,
                node: "index",
            }
        }
    });
</script>
{% endblock %}